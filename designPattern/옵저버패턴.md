# ì˜µì €ë²„ íŒ¨í„´

> ì˜µì €ë²„ íŒ¨í„´(Observer Pattern)ì€ í•œ ê°ì²´ì˜ ìƒíƒœê°€ ë°”ë€Œë©´ ê·¸ ê°ì²´ì— ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ ê°ì²´ì—ê²Œ ì—°ë½ì´ ê°€ê³  ìë™ìœ¼ë¡œ ë‚´ìš©ì´ ê°±ì‹ ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì¼ëŒ€ë‹¤ ì˜ì¡´ì„±ì„ ì •ì˜í•©ë‹ˆë‹¤.

---

## ì˜µì €ë²„ íŒ¨í„´ì˜ ì˜ˆì‹œ

ì‹ ë¬¸ì‚¬ê°€ ìˆìŠµë‹ˆë‹¤.
ì‹ ë¬¸ì‚¬ëŠ” ì •ì¹˜, ê²½ì œ, ì—°ì˜ˆ ë“± ì—¬ëŸ¬ ë¶„ì•¼ì˜ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
ìƒˆë¡œìš´ ì •ë³´ê°€ ì—…ë°ì´íŠ¸ ëœë‹¤ë©´, êµ¬ë…ìë“¤ì—ê²Œ ì†Œì‹ì„ ì „ë‹¬í•©ë‹ˆë‹¤.

ë…ìëŠ” ì‹ ë¬¸ì‚¬ì— êµ¬ë… ì‹ ì²­ì„ í•˜ë©´ ë§¤ë²ˆ ìƒˆë¡œ ì—…ë°ì´íŠ¸ë˜ëŠ” ì†Œì‹ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹ ë¬¸ì„ ë³´ê³  ì‹¶ì§€ ì•Šë‹¤ë©´ êµ¬ë… í•´ì§€ ì‹ ì²­ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### **_ì‹ ë¬¸ì‚¬ + êµ¬ë…ì = ì˜µì €ë²„ íŒ¨í„´_** ì´ë¼ê³  í•©ë‹ˆë‹¤.

> ì‹ ë¬¸ì‚¬ë¥¼ ì£¼ì œ(subject), êµ¬ë…ìë¥¼ ì˜µì €ë²„(observer) ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.

**ì£¼ì œ**ê°ì²´ëŠ” ë°ì´í„°ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤. ë°ì´í„°ê°€ ë°”ë€Œë©´ ì˜µì €ë²„ì— ê·¸ ì†Œì‹ì„ ì „ë‹¬í•©ë‹ˆë‹¤.

**ì˜µì €ë²„**ê°ì²´ëŠ” ì£¼ì œë¥¼ êµ¬ë…í•˜ê³  ìˆìœ¼ë©°, ì£¼ì œì˜ ë°ì´í„°ê°€ ë°”ë€Œë©´ ê°±ì‹  ë‚´ìš©ì„ ì „ë‹¬ë°›ìŠµë‹ˆë‹¤.

**ì˜µì €ë²„ê°€ ì•„ë‹Œ ê°ì²´**ëŠ” ì£¼ì œì˜ ë°ì´í„°ê°€ ë°”ë€Œì–´ë„ ì•„ë¬´ ì—°ë½ë„ ë°›ì§€ ëª»í•©ë‹ˆë‹¤.

---

### ğŸ¢ **_ì½”ë“œë¡œ ì‚´í´ë³´ê¸°_**

ì‹ ë¬¸ì‚¬ ì£¼ì œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
ì£¼ì œ ê°ì²´ëŠ” ì˜µì €ë²„ë¥¼ ë“±ë¡, í•´ì œìš© ë©”ì„œë“œì™€ ëª¨ë“  ì˜µì €ë²„ì—ê²Œ ì—°ë½í•˜ëŠ” ë©”ì„œë“œë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼í•©ë‹ˆë‹¤.

```ts
interface Subject {
  economy: string;
  politics: string;
  entertainment: string;
  registerObserver(observer: Observer): void;
  removeObserver(observer: Observer): void;
  notifyObservers(): void;
}
```

ì˜µì €ë²„ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.  
ì£¼ì œì˜ ìƒíƒœê°€ ë°”ë€Œì—ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œê°€ í•„ìš”í•©ë‹ˆë‹¤.

```ts
interface Observer {
  update(economy: string, politics: string, entertainment: string): void;
}
```

> **ì£¼ì œì™€ ì˜µì €ë²„ì˜ íŠ¹ì§•**
>
> 1. ì£¼ì œëŠ” ì˜µì €ë²„ê°€ íŠ¹ì • ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤ëŠ” **ì‚¬ì‹¤**ë§Œ ì••ë‹ˆë‹¤.
> 2. ì˜µì €ë²„ëŠ” ì–¸ì œë“ ì§€ ìƒˆë¡œ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 3. ìƒˆë¡œìš´ í˜•ì‹ì˜ ì˜µì €ë²„ë¥¼ ì¶”ê°€í•  ë•Œë„ ì£¼ì œë¥¼ ë³€ê²½í•  í•„ìš”ê°€ ì „í˜€ ì—†ìŠµë‹ˆë‹¤.
> 4. ì£¼ì œì™€ ì˜µì €ë²„ëŠ” ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ì¬ì‚¬ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤. (ëŠìŠ¨í•œ ê²°í•©)
>    > ëŠìŠ¨í•œ ê²°í•©(Loose Coupling)ì€ ê°ì²´ë“¤ì´ ìƒí˜¸ì‘ìš©í•  ìˆ˜ëŠ” ìˆì§€ë§Œ, ì„œë¡œë¥¼ ì˜ ëª¨ë¥´ëŠ” ê´€ê³„ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ëŠìŠ¨í•œ ê²°í•©ì„ ì‚¬ìš©í•˜ë©´ ë³€ê²½ ì‚¬í•­ì´ ìƒê²¨ë„ ë¬´ë‚œíˆ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìœ ì—°í•œ ê°ì²´ì§€í–¥ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

ì£¼ì œ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ì‹ ë¬¸ì‚¬ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

```ts
class Newspaper implements Subject {
  economy: string = '';
  politics: string = '';
  entertainment: string = '';
  observers: Observer[] = [];
  registerObserver(observer: Observer) {
    this.observers.push(observer);
  }
  removeObserver(observer: Observer) {
    this.observers = this.observers.filter((element) => element !== observer);
  }
  notifyObservers() {
    for (const observer of this.observers) {
      observer.update(this.economy, this.politics, this.entertainment);
    }
  }
  setInfomation(economy: string, politics: string, entertainment: string) {
    this.economy = economy;
    this.politics = politics;
    this.entertainment = entertainment;
    this.notifyObservers();
  }
}
```

ì˜µì €ë²„ëŠ” ì˜µì €ë²„ ì¸í„°í˜ì´ìŠ¤ë§Œ êµ¬í˜„í•œë‹¤ë©´ ì–´ë–»ê²Œ ìƒê¸°ë“  ìƒê´€ì—†ìŠµë‹ˆë‹¤.  
ì‹ ë¬¸ì‚¬ì˜ ì •ë³´ë¥¼ ë°›ì•„ ì–´ë”˜ê°€ ì¶œë ¥í•´ì•¼í•˜ëŠ” í´ë˜ìŠ¤ê°€ ìˆë‹¤ë©´,

```ts
class Display implements Observer {
  economy: string = '';
  politics: string = '';
  entertainment: string = '';
  update(economy: string, politics: string, entertainment: string) {
    this.economy = economy;
    this.politics = politics;
    this.entertainment = entertainment;
    this.display();
  }
  display() {
    console.log(`ê²½ì œ ì†Œì‹: ${this.economy}`);
    console.log(`ì •ì¹˜ ì†Œì‹: ${this.politics}`);
    console.log(`ì—°ì˜ˆ ì†Œì‹: ${this.entertainment}`);
  }
}
```

```ts
const newspaper = new Newspaper();
const printer = new Display();

newspaper.registerObserver(printer);
newspaper.setInfomation('ê²½ì œ~~', 'ì •ì°¨~~', 'ì—°ì˜ˆ~~');
/*
[LOG]: "ê²½ì œ ì†Œì‹: ê²½ì œ~~" 
[LOG]: "ì •ì¹˜ ì†Œì‹: ì •ì°¨~~" 
[LOG]: "ì—°ì˜ˆ ì†Œì‹: ì—°ì˜ˆ~~"
*/

newspaper.removeObserver(printer);
newspaper.setInfomation('ê²½ì œ2~~', 'ì •ì°¨2~~', 'ì—°ì˜ˆ2~~');
// ...
```
